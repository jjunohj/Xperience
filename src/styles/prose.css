/* common markdown */
.prose {
  @apply text-secondary;
}

/* 헤딩 스타일 - 한글 최적화 */
.prose h1 {
  @apply text-primary font-bold;
  font-size: 1.75rem; /* 28px - 모바일 */
  line-height: 1.35;
  margin-top: 2.5rem;
  margin-bottom: 1.25rem;
  letter-spacing: -0.02em;
}

.prose h2 {
  @apply text-primary font-bold;
  font-size: 1.5rem; /* 24px - 모바일 */
  line-height: 1.4;
  margin-top: 2rem;
  margin-bottom: 1rem;
  letter-spacing: -0.02em;
}

.prose h3 {
  @apply text-primary font-semibold;
  font-size: 1.25rem; /* 20px - 모바일 */
  line-height: 1.45;
  margin-top: 1.75rem;
  margin-bottom: 0.875rem;
  letter-spacing: -0.01em;
}

.prose h4 {
  @apply text-primary font-semibold;
  font-size: 1.125rem; /* 18px - 모바일 */
  line-height: 1.5;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  letter-spacing: -0.01em;
}

.prose h5 {
  @apply text-primary font-medium;
  font-size: 1.0625rem; /* 17px - 모바일 */
  line-height: 1.55;
  margin-top: 1.25rem;
  margin-bottom: 0.625rem;
}

.prose h6 {
  @apply text-primary font-medium;
  font-size: 1rem; /* 16px */
  line-height: 1.6;
  margin-top: 1.25rem;
  margin-bottom: 0.625rem;
}

/* 데스크톱 헤딩 크기 */
@media (min-width: 768px) {
  .prose h1 {
    font-size: 2.25rem; /* 36px */
    margin-top: 3rem;
    margin-bottom: 1.5rem;
  }

  .prose h2 {
    font-size: 1.875rem; /* 30px */
    margin-top: 2.5rem;
    margin-bottom: 1.25rem;
  }

  .prose h3 {
    font-size: 1.5rem; /* 24px */
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .prose h4 {
    font-size: 1.25rem; /* 20px */
    margin-top: 1.75rem;
    margin-bottom: 0.875rem;
  }

  .prose h5 {
    font-size: 1.125rem; /* 18px */
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
  }
}

.prose strong,
.prose thead th {
  @apply text-primary;
}

.prose del {
  @apply text-mute;
}

.prose p {
  font-size: 1rem; /* 16px */
  line-height: 1.6; /* 25.6px */
  margin-top: 1.25rem;
  margin-bottom: 1.25rem;
}

@media (min-width: 768px) {
  .prose p {
    font-size: 1.0625rem; /* 17px */
    line-height: 1.65; /* 28px */
  }
}

/* 리스트 스타일 */
.prose ul {
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  padding-left: 1.5rem;
}

.prose ol {
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  padding-left: 1.5rem;
}

.prose li {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.prose li > p {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* 인용구 스타일 */
.prose blockquote {
  @apply border-l-4 border-brand-400;
  padding-left: 1.25rem;
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
  margin-top: 2rem;
  margin-bottom: 2rem;
  font-style: normal;
  font-weight: 400;
  line-height: 1.6;
}

.prose blockquote p {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* 테이블 스타일 */
.prose table {
  margin-top: 2rem;
  margin-bottom: 2rem;
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9375rem; /* 15px */
  line-height: 1.5;
}

.prose thead th {
  padding: 0.75rem 1rem;
  text-align: left;
  font-weight: 600;
}

.prose tbody td {
  padding: 0.75rem 1rem;
}

.prose tbody tr {
  border-bottom-width: 1px;
}

/* 수평선 스타일 */
.prose hr {
  margin-top: 3rem;
  margin-bottom: 3rem;
  border-top-width: 1px;
}

.prose img {
  @apply mx-auto my-0;

  max-width: 100%;
  height: auto;
  max-height: 600px;
  object-fit: contain;
}

.prose img + span {
  display: block;
  margin-top: 0.5rem;
}

.prose a {
  @apply text-primary break-words transition-all;
  @apply decoration-neutral-450 underline-offset-2 hover:decoration-neutral-350;
}
.prose a:has(strong) {
  @apply decoration-yellow-300 decoration-wavy underline-offset-1 hover:decoration-yellow-400;
  @apply dark:decoration-yellow-300/70 dark:hover:decoration-yellow-300/90;
}

.prose code {
  font-family: var(--font-mono), Consolas, Monaco, "Andale Mono", monospace;
  font-size: 0.875em;
}

.prose code:not(:where(pre *)) {
  @apply text-primary rounded font-medium content-none;
  @apply bg-neutral-200 dark:bg-[var(--prism-background)];
  padding: 0.125em 0.375em;
  font-weight: 500;
}

.prose pre::-webkit-scrollbar {
  height: 6px;
  width: 6px;
}

.prose pre::-webkit-scrollbar-track {
  background: transparent;
}

.prose pre::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}

.prose pre::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

.prose pre {
  -ms-overflow-style: -ms-autohiding-scrollbar; /* IE and Edge */
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
  margin-top: 2rem;
  margin-bottom: 2rem;
  padding: 0 !important;
  border-radius: 0.5rem;
  color: var(--prism-foreground);
  background-color: var(--prism-background);
}

/* prose first child, not <TocTop /> */
.prose > :first-child {
  margin-top: 3rem !important;
}
.prose > .lg\:hidden + * {
  @apply lg:mt-12;
}

/* rehype-autolink-headings */
.prose .anchor {
  @apply absolute -ml-10 mt-1 flex h-6 w-6 items-center justify-center opacity-0 transition-all;
  @apply rounded-md border-none no-underline ring-1 ring-neutral-700/10;
  @apply hover:shadow hover:ring-neutral-700/30 dark:bg-neutral-700 dark:text-neutral-400;
}

.prose .anchor:after {
  content: " ";
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' aria-hidden='true'%3E%3Cpath d='M3.75 1v10M8.25 1v10M1 3.75h10M1 8.25h10' stroke='currentColor' strokeWidth='1.5' strokeLinecap='round' /%3E%3C/svg%3E");
  mask-repeat: no-repeat;
  mask-position: center;
  @apply h-4 w-4 bg-neutral-700 dark:bg-neutral-400;
}

.prose .anchor:hover,
.prose *:hover > .anchor {
  @apply md:opacity-100;
}
